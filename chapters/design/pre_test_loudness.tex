
\section{Loudness matching between \gls{bct} and \gls{ace}}
\label{sec:loudness_match}
This section is establishes a loudness matching procedure for the use in conjunction with \gls{hint}. Different signals are compared in their performance as stimuli and pilot tests are described.


\subsection{Playback Situation}

%This section describes how the \gls{ace} is related to the \gls{bct} in the subject test.
%The main issue with the frequency response of the \gls{bct} is that the the sound is not \gls{ac} but \gls{bc}, so the \gls{bct} level cannot be described as \gls{spl}. 
The intrinsic property of a \gls{bct}, is that its frequency response cannot be described in terms of \gls{spl}.
The chosen \gls{bct} is associated with a Hearing Aid Analyzer named Affinity 2.0 (see \citep{affinity_20}), which also can be used as preamplifier for the \gls{bct} and the \gls{ace}. There are two inputs, CD1 and CD2. Since the given implementation of the \gls{hint} is in the from of a \matlab program, the Affinity is only used as a preamplifier for both the \gls{ace} and the \gls{bct}, instead of conducting any tests with the associated software.


%To relate the \gls{ace} and \gls{bct} the CD1 and CD2 input frequency response of single tone is measured. 
The relation between input- and output voltage of the affinity has been measured with sinusoids at several frequencies (see \autoref{append:affinity_bc_calibration}).
This insures, that the Affinity is just acting as an amplifier and has no built in equalization curves for the \gls{bct}, such as the RETVFL given in \citep[Tab. 1]{iso_389-3}. The latter have been developed for \gls{bct} in conjunction with pure tone audiometry and not suited to the purpose at hand.
Instead, the loudness matching routine will be utilized to relate the input signal of the \gls{bct} to the sensation, that listeners perceive.
%This is done to to verify the input and output relation such that it is known if the Affinity change the frequency response for the belonging \gls{bct} as it is necessary according to its datasheet \citep{radioear_b81}. 
%In   it is found out that the Affinity have a linear frequency response, and therefore the \gls{bct} is not adapted for the needed frequency equalization as standardized in ISO 389-3 . The standard ISO 389-3 \citep{iso_389-3} also only standardize for pure tone at the Mastoid and not wide band frequency content at the which is contained in speech. 
%Those the relating between the input to the \gls{bct} and the basilar membrane exaltation is uncertain because of the position and the frequency correction. The solution is relating the \gls{bct} to the \gls{ace} by perceived level matching test between the transducers for every subject. The test method is described in \autoref{sec:test_description}.


\subsection{Choice of Matching Signal}
\label{sec:match_sig_cho}
%This section design the matching signal for \gls{ace} and \gls{bct} relation. There is several option of choosing the matching signal but tonal match can not be used because the transfer function for both transducer is very difference \citep{microPro_er4},  \citep{radioear_b81}. The tonal match only correspond to its frequency and therefore over a broad band frequency spectrum the loudness will not match. To match the level in the speech frequency range a \gls{ssn} is chosen. The chosen \gls{ssn} is the given noise from the \matlab \gls{hint} test. The differences in the low frequency for the transducer might introduce that the \gls{ace} is perceived louder and therefore the perceived match with the \gls{bct} might be to high. To test this hypotheses, a test is made in \autoref{apend_matching_signals}. The is also done with other frequency band for the \gls{ssn} and in the end with pure tone to confirm the problem with difference transfer function. The test is done according to the test method described in \autoref{sec:test_description}. The following \autoref{sec:match_result_diff} shows the result of three test subject where the mean is calculated.
One of the key elements while matching the level between both conductors is to choose a type of signal that will be the most representative in this context, as the transfer functions of both transducers are different (\citep{microPro_er4},  \citep{radioear_b81}). In order to do so, a level matching routine testing different types of signals was performed with three subjects in order to sort out the type of signal to use during the testing phase. The base signal for this test is the \matlab \gls{hint} \gls{ssn}. The differences in the low frequency range for the transducers could make the subjects to perceive the \gls{ace} as louder, and therefore the matching level for the \gls{bct} would be louder too. In order not to neglect how differences in other frequency ranges can affect the perceived level, pure tones and other bandpass filtered signals are included as test specimen. \autoref{tab:test_signals} displays the different tested signals.
\begin{table}[H]
\caption{Test signals description, all filters are 8th order butterworth filters}
\begin{tabularx}{\textwidth}{l | X l}
Matching signal       & Description \\ \hline
Original \gls{ssn}         & Original unfiltered signal from the \gls{hint} test \citep{hint_2011}.      \\
Highpass        & Original signal filtered with a highpass filter at \SI{400}{\hertz}.           \\
Bandpass 1        & Original signal filtered with a bandpass filter from \SI{1}{\kilo\hertz} to \SI{2}{\kilo\hertz}.           \\
Bandpass 2        & Original signal filtered with a bandpass filter from \SI{1}{\kilo\hertz} to \SI{4}{\kilo\hertz}.          \\
1/3 octave & Original signal filtered with a 1/3 octave filter centred at \SI{2}{\kilo\hertz}.          \\
\SI{1}{\kilo\hertz}                  & Pure \SI{1}{\kilo\hertz} tone.      \\
\SI{2}{\kilo\hertz}                 & Pure \SI{2}{\kilo\hertz} tone.          \\
\SI{4}{\kilo\hertz}                 & Pure \SI{4}{\kilo\hertz} tone.        
\end{tabularx}
\label{tab:test_signals}
\end{table}

The test was conducted in a way that each subject had to match the level between the \gls{ac} and \gls{bc} for each different type of signal following the procedure described in \autoref{sec:test_description}. The results for these matching pilots can be found in \autoref{sec:match_result_diff}.

\begin{table}[H]
\centering
\caption{Test results of matching test for different noise spectrum and pure tones.} %The specification of each noise can be found in \autoref{apen:match_result}}
\begin{tabular}{l|lll|ll}
Matching test in \si{\decibel}       & Pilot 1 & Pilot 2 & Pilot 3 & $\mu$ & $\sigma$ \\ \hline
Original \gls{ssn}         & 46        & 45        & 45        & 45.3        & 0.58               \\
Highpass         & 47        & 44        & 46        & 45.7        & 1.53               \\
Bandpass 1         & 38        & 40        & 45        & 41          & 3.61               \\
Bandpass 2        & 41        & 41        & 47        & 43          & 3.46               \\
1/3 octave & 57        & 50        & 60+       & 55.7        & 5.13               \\
\SI{1}{\kilo\hertz}                   & 34        & 32        & 36        & 34          & 2                  \\
\SI{2}{\kilo\hertz}                  & 45        & 51        & 60+       & 52          & 7.55               \\
\SI{4}{\kilo\hertz}                  & 47        & 49        & 59        & 51.7        &  6.43                 
\end{tabular}
\label{sec:match_result_diff}
\end{table}


It can be observed in \autoref{sec:match_result_diff} that the differences between the original \gls{ssn} and its highpass-filtered version are very small. This leads to the hypothesis of the low frequency generating a louder \gls{bct} level match being rejected for the measured data. The data obtained from the bandpass-filtered versions of the signal is not as consistent as the one obtained original signal when comparing between subjects. Regarding pure tones, it is observed that there is a high inter-subject standard deviation and the perceived level is much different than for the original \gls{ssn}. Therefore, it is concluded that the signal which fits better the purposes of the test is the original \gls{ssn}.



\subsection{Pilot test}
\label{sec:pilot_test}
%This section evaluate the chosen \gls{ssn} for \gls{ace} and \gls{bct} matching. 
Once the matching signal had been chosen, it was necessary to evaluate the consistency of the results obtained from the matching routine.
The evaluation is done by a conducting pilot tests focused on this matter. The tests are done according to the matching description in \autoref{sec:test_description}.% but with only one match test after the familiarization round. 
Only the data from the non-familiarization matching is reported. The results for the pilot test are shown in \autoref{sec:match_result_field} and further information can be found in \autoref{apend:match_field_init}.

\begin{table}[H]
\centering
\caption{Test results for pilot level matching}
\begin{tabular}{l|lll|ll}
Matching test in \si{\decibel}   & 1\textsuperscript{st} trial & 2\textsuperscript{nd} trial & 3\textsuperscript{rd} trial & $\mu$ & $\sigma$ \\ \hline
Pilot 4  & 48          & 48           & 48          & 48          & 0                  \\
Pilot 5  & 52          & 50           & 50          & 50.7        & 1.15               \\
Pilot 6  & 52          & 52           & 52          & 52          & 0                  \\
Pilot 7  & 46          & 46           & ND          & 46          & 0                  \\
Pilot 8  & 50          & 48           & ND          & 49          & 1.41               \\
Pilot 9  & 52          & 50           & ND          & 51          & 1.41               \\
Pilot 10  & 52          & 48           & ND          & 50          & 2.83               \\
Pilot 11  & 56          & 52           & 52          & 53.3        & 2.31             
\end{tabular}
\label{sec:match_result_field}
\end{table}

From the results in \autoref{sec:match_result_field}, the standard deviation between subjects is calculated to be \SI{2.3}{\decibel} and the mean is \SI{50}{\decibel}. The mean and the matching \si{\decibel} for the subject's data do not represent the \gls{spl} the subjects are exposed to. It is only the \si{\decibel} number the Affinity shows in the display. As stated in the first part of this section, The Affinity  \gls{spl} level is not the exposure level, but a digital control value. Therefore, the mean \gls{bc} level for every subject corresponds to their perception of non-weighted \SI{65}{\decibel} \gls{spl}  for the \gls{ace}. The standard deviation between subjects' results can be compared to other loudness perception study. The comparison can indicate if the pilot test result is within the standard deviation as other reviewed research have founded as loudness matching standard deviation. 

In \citep{STENFELT201385} the loudness is measured between to transducer, one Sennheiser HDA200 and two custom made \gls{bct}. The subject test is not done as the pilot test but as an \gls{acalos}. An \gls{acalos} is a test where there is a sociology loudness scale the subject are asked to rate the sound after, e.g. soft, medium and high \gls{spl}. The test in \citep{STENFELT201385} is not done as a matching test between two transducer directly but indirectly. Meaning that the resulting loudness scale rate between the to transducer is compared. The noise there is used in \citep{STENFELT201385} is ether not \gls{ssn} but filtered Gaussian noise. The noise was filtered intro to signal where the test subject is asked to rate both signal on both transducer. The noise band is as following. The first noise is filtered from \SI{600}{\hertz} to \SI{900}{\hertz} and the second noise is filtered from \SI{3}{\kilo\hertz} to \SI{4}{\kilo\hertz}. Since the test is done from inaudible to too loud there is displayed a data fit from \SI{0}{\decibel} to \SI{80}{\decibel}. The pilot test is done with \SI{63.87}{\decibel} \gls{spl} non-weighted, then only the data that correspond to the same level is needed to be compared. The following \autoref{sec:stenfelt_result} shows the obtained data from \citep{STENFELT201385} at \SI{63.87}{\decibel} SL.


\begin{table}[H]
\centering
\caption{obtained data from \citep{STENFELT201385} at \SI{63.87}{\decibel} SL}
\begin{tabular}{l|l}
Loudness scale test                        & $\sigma$            \\ \hline
\SI{600}{\hertz} to \SI{900}{\hertz}       & \SI{7.5}{\decibel} \\
\SI{3}{\kilo\hertz} to \SI{4}{\kilo\hertz} & \SI{7.5}{\decibel}
\end{tabular}
\label{sec:stenfelt_result}
\end{table}

From the pilot test \autoref{sec:match_result_field} the standard deviation was calculated to be \SI{2.3}{\decibel} where the study in \citep{STENFELT201385} have a mean standard deviation of \SI{7.5}{\decibel}. The test is not exactly preformed the same way, but it is chosen as the reference because very rare research in this field. The pilot test standard deviation is much lower that the result in \citep{STENFELT201385} so the test is concluded to be feasible for the subject test in the this project.

%Loudness functions with air and bone conduction stimulation in normal-hearing subjects using a categorical loudness scaling procedure